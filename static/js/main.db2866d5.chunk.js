(this["webpackJsonpsplatter-no-1"]=this["webpackJsonpsplatter-no-1"]||[]).push([[0],{17:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),o=n(9),r=n.n(o),i=(n(17),n(2));window.p5=i;n(19);var c=n(10),d=n(0);function u(){return Object(d.jsxs)("svg",{id:"play-icon",className:"fade-out",xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",children:[Object(d.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),Object(d.jsx)("path",{d:"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})]})}var l=n(11),h=n(12),v=function(){function e(t,n,a,s,o){Object(l.a)(this,e),this.canvas=t,this.points=n,this.fromColour=this.canvas.color(s),this.toColour=this.canvas.color(o),this.index=0,this.lifetime=parseInt(1e3*a),this.hasInitiated=!1,this.hasCompleted=!1}return Object(h.a)(e,[{key:"draw",value:function(e){var t=25/8,n=this.points[0].x,a=this.points[0].y,s=0,o=0,r=0,i=0;e===this.points.length-1&&(this.hasCompleted=!0);for(var c=3;c<e;c++){var d=this.canvas.lerpColor(this.fromColour,this.toColour,1/this.points.length*c);this.canvas.stroke(d);var u=i;s+=.5*(this.points[c].x-n),o+=.5*(this.points[c].y-a),s*=.5,o*=.5,r+=this.canvas.sqrt(s*s+o*o)-r,i=25/c-(r*=.6);for(var l=0;l<10;++l){var h=n,v=a;n+=s/10,a+=o/10,(u+=(i-u)/10)<1&&(u=1),this.canvas.strokeWeight(u+t),this.canvas.line(n,a,h,v),this.canvas.strokeWeight(u),this.canvas.line(n+6.25,a+6.25,h+6.25,v+6.25),this.canvas.line(n-t,a-t,h-t,v-t)}}}}]),e}(),p=n.p+"static/media/splatter-no-1.e656eb14.ogg",g=n.p+"static/media/splatter-no-1.e891a07d.mid",f=function(){var e=Object(a.useRef)(),t=function(e){e.canvas=null,e.splatterCanvas=null,e.canvasWidth=window.innerWidth,e.canvasHeight=window.innerHeight,e.audioLoaded=!1,e.player=null,e.PPQ=15360,e.loadMidi=function(){c.Midi.fromUrl(g).then((function(t){var n=t.tracks[5].notes,a=t.tracks[9].notes,s=t.tracks[6].notes.filter((function(e){return 43!==e.midi})),o=t.tracks[8].notes;e.scheduleCueSet(n,"executeCueSet1"),e.scheduleCueSet(a,"executeCueSet2"),e.scheduleCueSet(s,"executeCueSet3"),e.scheduleCueSet(o,"executeCueSet4"),e.audioLoaded=!0,document.getElementById("loader").classList.add("loading--complete"),document.getElementById("play-icon").classList.remove("fade-out")}))},e.preload=function(){e.song=e.loadSound(p,e.loadMidi),e.song.onended(e.logCredits)},e.scheduleCueSet=function(t,n){for(var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=-1,o=1,r=0;r<t.length;r++){var i=t[r],c=i.ticks,d=i.time;(c!==s||a)&&(i.currentCue=o,e.song.addCue(d,e[n],i),s=c,o++)}},e.backgroundColour=0,e.strokes=[],e.setup=function(){e.canvas=e.createCanvas(e.canvasWidth,e.canvasHeight),e.splatterCanvas=e.createGraphics(e.canvasWidth,e.canvasHeight),e.paintStrokeCanvas=e.createGraphics(e.canvasWidth,e.canvasHeight),e.colorMode(e.HSB),e.background(e.backgroundColour),e.noLoop();for(var t=0;t<66;t++)e.strokes.push({points:e.generatePoints()})},e.draw=function(){e.audioLoaded&&e.song.isPlaying()&&(e.background(e.backgroundColour),e.image(e.splatterCanvas,0,0),e.image(e.paintStrokeCanvas,0,0))},e.executeCueSet1=function(t){var n=t.currentCue,a=e.random(0,e.width),s=e.random(0,e.height),o=[];if(n<152){n%23===1&&e.splatterCanvas.clear();for(var r=0;r<1080;r++)o.push(e.random(2,200));e.splatter(a,s,e.random(e.height/4,e.height/8),o,e.color(e.random(0,360),100,100)),e.redraw()}},e.strokesIndex=0,e.executeCueSet2=function(t){var n=t.currentCue,a=t.duration,s=e.strokes[e.strokesIndex].points,o=1e3*a/s.length,r=new v(e.paintStrokeCanvas,e.strokes[e.strokesIndex].points,a,e.color(e.random(360),100,100),e.color(e.random(360),100,100));n%11===1&&e.paintStrokeCanvas.clear();for(var i=function(t){setTimeout((function(){r.draw(t),e.redraw()}),o*t)},c=0;c<s.length;c++)i(c);e.strokesIndex++},e.executeCueSet3=function(t){var n=t.currentCue;t.ticks/e.PPQ%4===2&&(e.backgroundColour=e.color(e.random(360),e.random(100),e.random(100))),e.redraw(),[1,21,51].includes(n)&&(e.backgroundColour=e.color(0,0,100),e.clear(),e.splatterCanvas.clear(),e.paintStrokeCanvas.clear())},e.executeCueSet4=function(t){var n=t.currentCue,a=e.random(0,e.width),s=e.random(0,e.height),o=[];n%23===1&&e.splatterCanvas.clear();for(var r=0;r<1080;r++)o.push(e.random(2,200));for(var i=e.random(e.height/4,e.height/6),c=i/12,d=e.random(0,360),u=0;u<12;u++)e.splatter(a,s,i,o,e.color(d,100,100),!0),i-=c,d=d+15>=360?d-340:d+15;e.redraw()},e.splatter=function(t,n,a,s,o){var r=arguments.length>5&&void 0!==arguments[5]&&arguments[5];e.splatterCanvas.strokeWeight(1),e.splatterCanvas.stroke(o),r?e.splatterCanvas.fill(o):e.splatterCanvas.noFill(),e.splatterCanvas.beginShape();for(var i=0;i<1080;i++){var c=s[i];e.splatterCanvas.curveVertex(t+a*Math.cos(i)/c,n+a*Math.sin(i)/c)}e.splatterCanvas.endShape()},e.generatePoints=function(){var t=[],n=e.random(30,40),a=e.random(0,20),s=e.random(0,20),o=e.random(["left","right","up","down"]),r=e.random(0,e.width),i=e.random(0,e.height);t.push({x:r,y:i});for(var c=0;c<n;c++){var d=e.noise(c,0)*a,u=e.noise(0,c)*s;switch(o){case"left":r-=d,i-=u;break;case"right":r+=d,i+=u;break;case"up":r+=d,i-=u;break;case"down":r-=d,i+=u}t.push({x:r,y:i})}return t},e.mousePressed=function(){e.audioLoaded&&(e.song.isPlaying()?e.song.pause():(parseInt(e.song.currentTime())>=parseInt(e.song.buffer.duration)&&e.reset(),document.getElementById("play-icon").classList.add("fade-out"),e.canvas.addClass("fade-in"),e.song.play()))},e.creditsLogged=!1,e.logCredits=function(){!e.creditsLogged&&parseInt(e.song.currentTime())>=parseInt(e.song.buffer.duration)&&(e.creditsLogged=!0,console.log("Music By: http://labcat.nz/","\n","Animation By: https://github.com/LABCAT/"),e.song.stop())},e.reset=function(){},e.updateCanvasDimensions=function(){e.canvasWidth=window.innerWidth,e.canvasHeight=window.innerHeight,e.canvas=e.resizeCanvas(e.canvasWidth,e.canvasHeight)},window.attachEvent?window.attachEvent("onresize",(function(){e.updateCanvasDimensions()})):window.addEventListener&&window.addEventListener("resize",(function(){e.updateCanvasDimensions()}),!0)};return Object(a.useEffect)((function(){new i(t,e.current)}),[]),Object(d.jsx)("div",{ref:e,children:Object(d.jsx)(u,{})})};var C=function(){return Object(d.jsx)(f,{})};r.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(C,{})}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.db2866d5.chunk.js.map